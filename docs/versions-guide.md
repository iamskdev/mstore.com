# üìñ Version Control Schema Guide

> **DOCUMENT AUDIT**
> - **Status:** `Up-to-Date`
> - **Last Reviewed:** 09/09/2025 at 14:56:00 IST
> - **Reviewer:** Santosh (with Gemini)
> - **Purpose:** This document outlines the comprehensive schema for the `versions.json` file, ensuring every commit that triggers a version bump is logged with consistent and detailed information.

---

### ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§® (Automation)

‡§Ø‡§π ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ `versioner.js` ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§π‡•à, ‡§ú‡•ã `.husky/post-commit` ‡§π‡•Å‡§ï ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§π‡§∞ ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§ï‡§Æ‡§ø‡§ü ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ö‡§≤‡§§‡§æ ‡§π‡•à‡•§

1.  **‡§ï‡§Æ‡§ø‡§ü ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ (Commit Analysis):** ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡§Æ‡§ø‡§ü ‡§Æ‡•á‡§∏‡•á‡§ú ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§ï‡•á ‡§Ø‡§π ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§µ‡§∞‡•ç‡§∂‡§® ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§®‡§æ ‡§π‡•à ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç (‡§ú‡•à‡§∏‡•á, `feat`, `fix`, `improve`, ‡§Ø‡§æ `!` ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡•ç‡§∞‡•á‡§ï‡§ø‡§Ç‡§ó ‡§ö‡•á‡§Ç‡§ú)‡•§
2.  **JSON ‡§Ö‡§™‡§°‡•á‡§ü (`versions.json`):** ‡§Ø‡§¶‡§ø ‡§µ‡§∞‡•ç‡§∂‡§® ‡§¨‡§Æ‡•ç‡§™ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•à, ‡§§‡•ã ‡§Ø‡§π `versions.json` ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§ë‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à‡•§
3.  **‡§ö‡•á‡§Ç‡§ú‡§≤‡•â‡§ó (`CHANGELOG.md`):** ‡§Ø‡§π `CHANGELOG.md` ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§®‡§Ø‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§≠‡•Ä ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à‡•§
4.  **‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó ‡§Ö‡§™‡§°‡•á‡§ü (`config.json`):** ‡§Ø‡§π `source/settings/config.json` ‡§Æ‡•á‡§Ç `app.version` ‡§ï‡•ã ‡§®‡§è ‡§µ‡§∞‡•ç‡§∂‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§
5.  **‡§ë‡§ü‡•ã-‡§Ö‡§Æ‡•á‡§Ç‡§° (Auto-Amend):** ‡§Ö‡§Ç‡§§ ‡§Æ‡•á‡§Ç, `post-commit` ‡§π‡•Å‡§ï ‡§á‡§® ‡§§‡•Ä‡§®‡•ã‡§Ç ‡§´‡§æ‡§á‡§≤‡•ã‡§Ç (`versions.json`, `CHANGELOG.md`, `config.json`) ‡§ï‡•ã ‡§∏‡•ç‡§ü‡•á‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§ï‡§Æ‡§ø‡§ü ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è `git commit --amend` ‡§ö‡§≤‡§æ‡§§‡§æ ‡§π‡•à‡•§

---

### ‡§â‡§¶‡§æ‡§π‡§∞‡§£ JSON ‡§ë‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü (Example JSON Object)

‡§Ø‡§π‡§æ‡§Å `versions.json` ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§ï‡§æ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à:

```json
{
  "version": {
    "new": "0.5.2",
    "old": "0.5.1",
    "bump": "patch"
  },
  "versionId": "VRN000000000132",
  "commit": {
    "hash": {
      "long": "b3b29333dd8ce457a971690616d0cb377ac62343",
      "short": "b3b2933"
    },
    "author": {
      "name": "Ôº≠Ôº≤.Ôº≥Ôº°ÔºÆÔº¥ÔºØÔº≥Ôº®",
      "userName": "iamskdev"
    },
    "branch": {
      "name": "main",
      "url": "https://github.com/iamskdev/mstore.com/tree/main"
    }
  },
  "type": "improve",
  "scope": "fallbackUrl",
  "subject": "Implement fallback URL for seamless domain transitions",
  "revertedCommit": null,
  "changes": {
    "added": [
      "`fallback` field in source/settings/config.json.",
      "Fallback URL handling logic in main.js."
    ],
    "fixed": [],
    "improved": [
      "Prevents \"page not found\" errors.",
      "Supports domain and path changes.",
      "Maintains backward compatibility.",
      "Enhances overall user experience."
    ]
  },
  "breakingChanges": [],
  "notes": [],
  "tags": [],
  "tickets": [],
  "metadata": {
    "environment": "development",
    "releaseChannel": "alpha"
  },
  "status": "deployed",
  "audit": {
    "createdBy": "Santosh",
    "createdAt": "2025-09-08T18:02:38Z",
    "deployedAt": "2025-09-09T08:54:40Z",
    "deployedBy": "Santosh"
  }
}
```

---

### ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§ï‡•Ä ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§æ‡§è‡§Ç (Field Definitions)

#### ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ë‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü (Root Object)

-   **`version`** (`object`): ‡§∏‡§ø‡§Æ‡•á‡§Ç‡§ü‡§ø‡§ï ‡§µ‡§∞‡•ç‡§ú‡§®‡§ø‡§Ç‡§ó (SemVer) ‡§ï‡§æ ‡§™‡§æ‡§≤‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§
    -   `new` (`string`): ‡§®‡§Ø‡§æ ‡§µ‡§∞‡•ç‡§∂‡§® ‡§®‡§Ç‡§¨‡§∞ (‡§ú‡•à‡§∏‡•á, "0.5.2")‡•§
    -   `old` (`string`): ‡§™‡§ø‡§õ‡§≤‡§æ ‡§µ‡§∞‡•ç‡§∂‡§® ‡§®‡§Ç‡§¨‡§∞‡•§
    -   `bump` (`string`): ‡§µ‡§∞‡•ç‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡§æ ‡§¨‡§Æ‡•ç‡§™ ‡§π‡•Å‡§Ü (`patch`, `minor`, `major`)‡•§
-   **`versionId`** (`string`): ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§Ø‡•Ç‡§®‡§ø‡§ï, ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ‡§ø‡§ï ‡§Ü‡§à‡§°‡•Ä (‡§ú‡•à‡§∏‡•á, `VRN000000000132`)
-   **`commit`** (`object`): ‡§á‡§∏ ‡§µ‡§∞‡•ç‡§∂‡§® ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á Git ‡§ï‡§Æ‡§ø‡§ü ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£‡•§
    -   `hash` (`object`): ‡§ï‡§Æ‡§ø‡§ü ‡§π‡•à‡§∂‡•§
        -   `long` (`string`): ‡§™‡•Ç‡§∞‡§æ Git ‡§ï‡§Æ‡§ø‡§ü ‡§π‡•à‡§∂‡•§
        -   `short` (`string`): ‡§õ‡•ã‡§ü‡§æ 7-‡§µ‡§∞‡•ç‡§£‡•ã‡§Ç ‡§ï‡§æ ‡§π‡•à‡§∂‡•§
    -   `author` (`object`): ‡§ï‡§Æ‡§ø‡§ü ‡§ï‡•á ‡§≤‡•á‡§ñ‡§ï ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£‡•§
        -   `name` (`string`): ‡§≤‡•á‡§ñ‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ‡•§
        -   `userName` (`string`): ‡§≤‡•á‡§ñ‡§ï ‡§ï‡§æ ‡§Ø‡•Ç‡§ú‡§º‡§∞‡§®‡•á‡§Æ‡•§
    -   `branch` (`object`): Git ‡§¨‡•ç‡§∞‡§æ‡§Ç‡§ö ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£‡•§
        -   `name` (`string`): ‡§¨‡•ç‡§∞‡§æ‡§Ç‡§ö ‡§ï‡§æ ‡§®‡§æ‡§Æ‡•§
        -   `url` (`string`): ‡§¨‡•ç‡§∞‡§æ‡§Ç‡§ö ‡§ï‡§æ URL‡•§
-   **`type`** (`string`): ‡§ï‡§Æ‡§ø‡§ü ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ (‡§ú‡•à‡§∏‡•á, `feat`, `fix`, `improve`, `chore`, `docs` ‡§Ü‡§¶‡§ø)‡•§
-   **`scope`** (`string` | `null`): ‡§ï‡§Æ‡§ø‡§ü ‡§ï‡•á ‡§¶‡§æ‡§Ø‡§∞‡•á ‡§ï‡§æ ‡§µ‡§∞‡•ç‡§£‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (‡§ú‡•à‡§∏‡•á, `auth`, `cart`, `header`)‡•§
-   **`subject`** (`string`): ‡§ï‡§Æ‡§ø‡§ü ‡§Æ‡•á‡§∏‡•á‡§ú ‡§ï‡•Ä ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø‡•§
-   **`revertedCommit`** (`string` | `null`): ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§è‡§ï ‡§∞‡§ø‡§µ‡§∞‡•ç‡§ü ‡§ï‡§Æ‡§ø‡§ü ‡§π‡•à, ‡§§‡•ã ‡§Ø‡§π ‡§â‡§∏ ‡§ï‡§Æ‡§ø‡§ü ‡§ï‡§æ ‡§π‡•à‡§∂ ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡•Ä‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡•á ‡§∞‡§ø‡§µ‡§∞‡•ç‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§
-   **`changes`** (`object`): ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®‡•ã‡§Ç ‡§ï‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§µ‡§ø‡§µ‡§∞‡§£‡•§
    -   `added` (`array`): ‡§®‡§à ‡§ú‡•ã‡§°‡§º‡•Ä ‡§ó‡§à ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§∏‡•Ç‡§ö‡•Ä‡•§
    -   `fixed` (`array`): ‡§†‡•Ä‡§ï ‡§ï‡§ø‡§è ‡§ó‡§è ‡§¨‡§ó‡•ç‡§∏ ‡§ï‡•Ä ‡§∏‡•Ç‡§ö‡•Ä‡•§
    -   `improved` (`array`): ‡§Æ‡•å‡§ú‡•Ç‡§¶‡§æ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§è ‡§ó‡§è ‡§∏‡•Å‡§ß‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•Ç‡§ö‡•Ä‡•§
-   **`breakingChanges`** (`array`): ‡§Ø‡§¶‡§ø ‡§ï‡•ã‡§à ‡§¨‡•ç‡§∞‡•á‡§ï‡§ø‡§Ç‡§ó ‡§ö‡•á‡§Ç‡§ú ‡§π‡•à, ‡§§‡•ã ‡§â‡§∏‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§Ø‡§π‡§æ‡§Å ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§
-   **`notes`** (`array`): ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§®‡•ã‡§ü‡•ç‡§∏ ‡§Ø‡§æ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡§ø‡§Ø‡§æ‡§Å‡•§
-   **`tags`** (`array`): ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§´‡§º‡§ø‡§≤‡•ç‡§ü‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ü‡•à‡§ó‡•ç‡§∏ (‡§ú‡•à‡§∏‡•á, `ui`, `backend`)
-   **`tickets`** (`array`): ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ü‡§ø‡§ï‡§ü ‡§Ü‡§à‡§°‡•Ä (‡§ú‡•à‡§∏‡•á, `JIRA-123`)‡•§
-   **`metadata`** (`object`): ‡§µ‡§∞‡•ç‡§∂‡§® ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§ü‡§æ-‡§°‡•á‡§ü‡§æ‡•§
    -   `environment` (`string`): ‡§°‡§ø‡§™‡•ç‡§≤‡•â‡§Ø‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§æ ‡§µ‡§æ‡§§‡§æ‡§µ‡§∞‡§£ (`development`, `production` ‡§Ü‡§¶‡§ø)‡•§
    -   `releaseChannel` (`string`): ‡§∞‡§ø‡§≤‡•Ä‡§ú‡§º ‡§ö‡•à‡§®‡§≤ (`alpha`, `beta`, `stable`)
-   **`status`** (`string`): ‡§µ‡§∞‡•ç‡§∂‡§® ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø (`pending`, `deployed`, `reverted`)
-   **`audit`** (`object`): ‡§ë‡§°‡§ø‡§ü‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä‡•§
    -   `createdBy` (`string`): ‡§á‡§∏ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§ï‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡§æ ‡§®‡§æ‡§Æ‡•§
    -   `createdAt` (`string` - ISO 8601): ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø‡•§
    -   `deployedAt` (`string` | `null` - ISO 8601): ‡§°‡§ø‡§™‡•ç‡§≤‡•â‡§Ø‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§æ ‡§∏‡§Æ‡§Ø‡•§
    -   `deployedBy` (`string` | `null`): ‡§°‡§ø‡§™‡•ç‡§≤‡•â‡§Ø ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡§æ ‡§®‡§æ‡§Æ‡•§

---

### ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡•ã‡§ü‡•ç‡§∏ (Important Notes)

-   **‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§∞‡•ã‡§§ (Data Source):** `versions.json` ‡§∏‡§§‡•ç‡§Ø ‡§ï‡§æ ‡§∏‡•ç‡§∞‡•ã‡§§ (source of truth) ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡•á Git ‡§∞‡§ø‡§™‡•â‡§ú‡§ø‡§ü‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§
-   **‡§°‡§ø‡§∏‡•ç‡§™‡•ç‡§≤‡•á (Display):** `source/settings/config.json` ‡§Æ‡•á‡§Ç ‡§Æ‡•å‡§ú‡•Ç‡§¶ `app.version` ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ê‡§™ ‡§ï‡•á UI ‡§Æ‡•á‡§Ç (‡§ú‡•à‡§∏‡•á ‡§°‡•ç‡§∞‡•â‡§Ö‡§∞ ‡§ï‡•á ‡§´‡•Å‡§ü‡§∞ ‡§Æ‡•á‡§Ç) ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§µ‡§∞‡•ç‡§∂‡§® ‡§ï‡•ã ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§
-   **‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§¨‡§¶‡§≤‡§æ‡§µ (Manual Changes):** `versioner.js` ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§´‡§æ‡§á‡§≤ (`versions.json`, `CHANGELOG.md`, `config.json`) ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§® ‡§Ü‡§™‡§ï‡•á ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§ì‡§µ‡§∞‡§∞‡§æ‡§á‡§ü ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§
