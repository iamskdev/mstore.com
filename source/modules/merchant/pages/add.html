<div class="add-screen-view">
    <div class="fab-overlay-btn"></div>
    <!-- Horizontal Tabs -->
    <!-- FIX: Moved primary tabs inside the main view for correct layout context -->
        <div class="add-primary-tabs">
            <button class="tab-btn active" data-tab="transactions">Transactions</button>
            <button class="tab-btn" data-tab="inventory">Inventory</button>
            <button class="tab-btn" data-tab="parties">Parties</button>
            <button class="tab-btn" data-tab="posts">Posts</button>
            <button class="tab-btn" data-tab="offers">Offers</button>
            <button class="tab-btn" data-tab="banners">Banners</button>
            <div class="tab-indicator"></div>
        </div>

    <!-- NEW: Party Filter Panel HTML -->
    <div class="date-filter-overlay" id="party-filter-overlay"></div>
    <div class="date-filter-panel" id="party-filter-panel">
        <div class="date-filter-header">
            <h4>Sort & Filter Parties</h4>
            <button class="date-filter-close-btn" id="party-filter-close-btn">&times;</button>
        </div>
        <div class="filter-section">
            <h5>Sort By</h5>
            <div class="sort-options">
                <label><input type="radio" name="party_sort" value="name_asc" checked> Name (A-Z)</label>
                <label><input type="radio" name="party_sort" value="name_desc"> Name (Z-A)</label>
                <label><input type="radio" name="party_sort" value="due_desc"> Due Amount (High-Low)</label>
                <label><input type="radio" name="party_sort" value="due_asc"> Due Amount (Low-High)</label>
            </div>
        </div>
        <div class="date-filter-actions">
            <button class="date-filter-btn secondary" id="party-filter-reset-btn">Reset</button>
            <button class="date-filter-btn primary" id="party-filter-apply-btn">Apply</button>
        </div>
    </div>

    <!-- NEW: Inventory Filter Panel HTML -->
    <div class="date-filter-overlay" id="inventory-filter-overlay"></div>
    <div class="date-filter-panel" id="inventory-filter-panel">
        <div class="date-filter-header">
            <h4>Sort & Filter Inventory</h4>
            <button class="date-filter-close-btn" id="inventory-filter-close-btn">&times;</button>
        </div>
        <div class="filter-section">
            <h5>Sort By</h5>
            <div class="sort-options">
                <!-- REVISED: Added more sorting options -->
                <label><input type="radio" name="inventory_sort" value="stock_desc" checked> Stock (High-Low)</label>
                <label><input type="radio" name="inventory_sort" value="stock_asc"> Stock (Low-High)</label>
                <label><input type="radio" name="inventory_sort" value="name_asc"> Name (A-Z)</label>
                <label><input type="radio" name="inventory_sort" value="name_desc"> Name (Z-A)</label>
                <label><input type="radio" name="inventory_sort" value="price_desc"> Price (High-Low)</label>
                <label><input type="radio" name="inventory_sort" value="price_asc"> Price (Low-High)</label>
                <label><input type="radio" name="inventory_sort" value="discount_desc"> Discount (High-Low)</label>
            </div>
        </div>
        <div class="date-filter-actions">
            <button class="date-filter-btn secondary" id="inventory-filter-reset-btn">Reset</button>
            <button class="date-filter-btn primary" id="inventory-filter-apply-btn">Apply</button>
        </div>
    </div>

    <!-- NEW: Date Filter Panel HTML -->
    <div class="date-filter-overlay" id="date-filter-overlay"></div>
    <div class="date-filter-panel" id="date-filter-panel">
        <div class="date-filter-header">
            <h4>Filter by Date</h4>
            <button class="date-filter-close-btn" id="date-filter-close-btn">&times;</button>
        </div>
        <div class="date-filter-options">
            <button class="date-filter-btn" data-range="today">Today</button>
            <button class="date-filter-btn" data-range="yesterday">Yesterday</button>
            <button class="date-filter-btn" data-range="this_week">This Week</button>
            <button class="date-filter-btn" data-range="this_month">This Month</button>
        </div>
        <div class="date-filter-custom-range">
            <div class="date-input-display" id="date-display-start">
                <span>Start Date</span>
                <i class="fas fa-calendar-alt"></i>
            </div>
            <input type="date" id="date-filter-start" aria-label="Start Date">
        </div>
        <div class="date-filter-custom-range">
            <div class="date-input-display" id="date-display-end">
                <span>End Date</span>
                <i class="fas fa-calendar-alt"></i>
            </div>
            <input type="date" id="date-filter-end" aria-label="End Date">
        </div>
        <div class="date-filter-actions">
            <button class="date-filter-btn secondary" id="date-filter-reset-btn">Reset</button>
            <button class="date-filter-btn primary" id="date-filter-apply-btn">Apply</button>
        </div>
    </div>

    <!-- Content Panes -->
    <div class="add-screen-content">
        <!-- Transactions Pane -->
        <div class="add-scrollable-content" data-tab="transactions">
            <div class="content-filter-bar">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="sale">Sales</button>
                <button class="filter-btn" data-filter="purchase">Purchases</button>
                <button class="filter-btn" data-filter="due">Dues</button>
                <button class="filter-btn filter-helper-only" data-filter="date" title="Filter by Date"><i
                        class="fas fa-calendar-alt"></i></button>
            </div>
            <!-- NEW: Scrollable content area -->
            <div class="content-scrollable-area">
                <div id="transaction-list-container" class="list-container">
                    <!-- Transaction cards will be dynamically injected here -->
                </div>
            </div>
        </div>

        <!-- Inventory Pane -->
        <div class="add-scrollable-content" data-tab="inventory">
            <!-- NEW: Inventory Filter Bar -->
            <div class="content-filter-bar">
                <button class="filter-btn active" data-inventory-filter="all">All</button>
                <button class="filter-btn" data-inventory-filter="product">Products</button>
                <button class="filter-btn" data-inventory-filter="service">Services</button>
                <button class="filter-btn filter-helper-only" data-inventory-filter="advanced"
                    title="Advanced Filters"><i class="fas fa-filter"></i></button>
            </div>
            <div class="content-scrollable-area">
                <div id="inventory-list-container" class="list-container">
                    <!-- Inventory cards will be dynamically injected here -->
                </div>
            </div>
        </div>

        <!-- Parties Pane (NEW) -->
        <div class="add-scrollable-content" data-tab="parties">
            <div class="content-filter-bar">
                <button class="filter-btn active" data-party-filter="all">All</button>
                <button class="filter-btn" data-party-filter="customer">Customers</button>
                <button class="filter-btn" data-party-filter="supplier">Suppliers</button>
                <button class="filter-btn filter-helper-only" data-party-filter="advanced" title="Advanced Filters"><i
                        class="fas fa-filter"></i></button>
            </div>
            <div class="content-scrollable-area">
                <div id="party-list-container" class="list-container">
                    <!-- Party cards will be dynamically injected here -->
                </div>
            </div>
        </div>

        <!-- Posts Pane -->
        <div class="add-scrollable-content" data-tab="posts">
            <div class="content-filter-bar">
                <button class="filter-btn active" data-content-filter="all">All</button>
                <button class="filter-btn" data-content-filter="posts">Posts</button>
                <button class="filter-btn" data-content-filter="polls">Polls</button>
                <button class="filter-btn filter-helper-only" data-content-filter="advanced" title="Advanced Filters"><i
                        class="fas fa-filter"></i></button>
            </div>
            <div class="content-scrollable-area">
                <div class="list-container">
                    <div class="post-card-small">
                        <img src="https://images.unsplash.com/photo-1555945093-97046180a65e?q=80&w=400&auto=format&fit=crop"
                            alt="Post image">
                        <div class="post-card-small-content">
                            <p class="text">Fresh stock of snacks and cold drinks just arrived! Perfect for your gaming
                                sessions...</p>
                            <div class="stats">95 likes &bull; 12 comments</div>
                        </div>
                    </div>
                    <div class="post-card-small">
                        <div class="post-card-small-content">
                            <p class="text">POLL: What new service should we add to our cafe? Faster Internet or a new
                                Gaming Zone?</p>
                            <div class="stats">180 likes &bull; 35 comments</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Offers Pane -->
        <div class="add-scrollable-content" data-tab="offers">
            <div class="content-filter-bar">
                <button class="filter-btn active" data-offer-filter="all">All</button>
                <button class="filter-btn" data-offer-filter="active">Active</button>
                <button class="filter-btn" data-offer-filter="scheduled">Scheduled</button>
                <button class="filter-btn" data-offer-filter="expired">Expired</button>
            </div>
            <div class="content-scrollable-area">
                <div class="content-card">
                    <div class="content-card-icon"><i class="fa-solid fa-tag"></i></div>
                    <div class="content-card-details">
                        <div class="content-card-title">DIWALI20</div>
                        <div class="content-card-subtitle">20% off on all items. Expires in 3 days.</div>
                    </div>
                </div>
                <div class="content-card">
                    <div class="content-card-icon"><i class="fa-solid fa-percent"></i></div>
                    <div class="content-card-details">
                        <div class="content-card-title">Weekend Flash Sale</div>
                        <div class="content-card-subtitle">Flat 50% off on electronics.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Banners Pane -->
        <div class="add-scrollable-content" data-tab="banners">
            <div class="content-filter-bar">
                <button class="filter-btn active" data-banner-filter="all">All</button>
                <button class="filter-btn" data-banner-filter="active">Active</button>
                <button class="filter-btn" data-banner-filter="pending">Pending</button>
                <button class="filter-btn" data-banner-filter="expired">Expired</button>
            </div>
            <div class="content-scrollable-area">
                <div class="placeholder-content">
                    <i class="fa-solid fa-images"></i>
                    <p>No active banners.<br>Click the '+' button to add a new banner.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button & Speed Dial Menu -->
    <div class="fab-container">
        <div class="fab-options">
            <!-- Options will be injected by JS -->
        </div>
        <button class="fab-main">
            <i class="fa-solid fa-plus"></i>
        </button>
    </div>

</div>