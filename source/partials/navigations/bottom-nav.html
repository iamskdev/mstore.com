<style>
/* --- 1. Main Container & Theming Variables --- */
.bottom-navigation {
  height: 65px; 
  background: var(--bg-primary);
  backdrop-filter: blur(10px); 
  display: flex;
  justify-content: space-around;
  align-items: center;
  border-top: 1px solid var(--border-color);
  padding: 0 8px;
  bottom: 0;
  left: 0;
  right: 0;
  position: fixed;
}

/* --- 2. General Button Styles --- */
.nav-btn {
  background: transparent;
  border: none;
  outline: none;
  padding: 6px 4px 10px; /* Adjusted padding for new font size */
  font-size: 13px; /* Increased font size for better readability */
  letter-spacing: 0.2px; /* Added subtle letter spacing for a cleaner look */
  font-weight: 700; /* BOLD: Set a bolder font weight for all tabs for better visibility. */
  color: var(--text-secondary); /* Use global variable for inactive icon color */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
  min-width: 56px;
  max-width: 96px;
  height: 100%;
  position: relative;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  border-radius: 0;
  overflow: visible;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.nav-btn .icon-container {
  position: relative;
  width: 40px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 2px;
}

.nav-btn i {
  font-size: 22px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  /* REMOVED: z-index was causing the icon to render on top of the ripple effect. */
}

.nav-btn-add i {
  font-size: 35px; /* Larger icon */
}

.nav-btn-add span { display: none; } /* Hide text label */

/*
  FIX: The 'add' button is unique. Its icon container should not be constrained
  in height, allowing the larger icon to display correctly. We also remove
  the bottom margin as there's no text label below it.
*/
.nav-btn-add .icon-container {
  height: auto;
  margin-bottom: 0;
}

/* --- 4. Button States & Effects --- */

/* Active State */
.nav-btn.active {
  color: var(--accent-primary); /* Use global variable for active icon color */
  background-color: transparent;
  border-radius: 12px; /* Rounded corners for the background highlight */
}

.nav-btn-add.active {
  color: var(--accent-primary); /* FIX: Use global theme variable for consistency. */
  transform: none; /* Remove any scaling effect */
  background-color: transparent; /* 'Add' button should not have a background */
}

/* Ripple Effect */
.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(var(--accent-primary-rgb), 0.1); /* Use global variable directly */
  transform: scale(0);
  animation: ripple 0.6s linear;
  pointer-events: none;
  z-index: 1;
}

@keyframes ripple {
  to {
    transform: scale(1.5);
    opacity: 0;
  }
}

/* Hover State (for devices that support it) */
@media (hover: hover) {
  .nav-btn:not(.active):hover {
    color: var(--accent-primary-hover); /* Use global variable for hover color */
    background: transparent;
  }
}



/* --- 7. Utility Classes --- */
.bottom-navigation.dev-mode {
  border: 2px dashed rgba(255, 59, 48, 0.3);
  background: rgba(255, 59, 48, 0.05);
}

</style>

<!-- 🔻 Enhanced Bottom Navigation -->
<nav id="bottom-nav" class="bottom-navigation">

  <!-- 🌐 Guest Tabs -->
  <button class="nav-btn" data-role="guest" data-path="home">
    <div class="icon-container">
      <i class="fas fa-home"></i>
    </div>
    <span>Home</span>
  </button>

  <button class="nav-btn" data-role="guest" data-path="chat">
    <div class="icon-container">
      <i class="fas fa-comment-dots"></i>
    </div>
    <span>Chat</span>
  </button>

  <button class="nav-btn" data-role="guest" data-path="saved">
    <div class="icon-container">
      <i class="fas fa-heart"></i>
    </div>
    <span>Saved</span>
  </button>

  <button class="nav-btn" data-role="guest" data-path="cart">
    <div class="icon-container">
      <i class="fas fa-shopping-cart"></i>
    </div>
    <span>Cart</span>
  </button>

  <button class="nav-btn" data-role="guest" data-path="account">
    <div class="icon-container">
      <i class="fas fa-user"></i>
    </div>
    <span>Account</span>
  </button>

  <!-- 👤 User Tabs -->
  <button class="nav-btn hidden" data-role="user" data-path="home">
    <div class="icon-container">
      <i class="fas fa-home"></i>
    </div>
    <span>Home</span>
  </button>

  <button class="nav-btn hidden" data-role="user" data-path="chat">
    <div class="icon-container">
      <i class="fas fa-comment-dots"></i>
    </div>
    <span>Chat</span>
  </button>

  <button class="nav-btn hidden" data-role="user" data-path="saved">
    <div class="icon-container">
      <i class="fas fa-heart"></i>
    </div>
    <span>Saved</span>
  </button>

  <button class="nav-btn hidden" data-role="user" data-path="cart">
    <div class="icon-container">
      <i class="fas fa-shopping-cart"></i>
    </div>
    <span>Cart</span>
  </button>

  <button class="nav-btn hidden" data-role="user" data-path="account">
    <div class="icon-container">
      <i class="fas fa-user"></i>
    </div>
    <span>Account</span>
  </button>

  <!-- 🛍️ Merchant Tabs -->
  <button class="nav-btn hidden" data-role="merchant" data-path="home">
    <div class="icon-container">
      <i class="fas fa-home"></i>
    </div>
    <span>Home</span>
  </button>

  <button class="nav-btn hidden" data-role="merchant" data-path="chat">
    <div class="icon-container">
      <i class="fas fa-comment-dots"></i>
    </div>
    <span>Chat</span>
  </button>

  <button class="nav-btn hidden nav-btn-add" data-role="merchant" data-path="add">
    <div class="icon-container">
      <i class="fa fa-plus-circle"></i>
    </div>
  
  </button>

  <button class="nav-btn hidden" data-role="merchant" data-path="analytics">
    <div class="icon-container">
      <i class="fas fa-chart-bar"></i>
    </div>
    <span>Analytics</span>
  </button>

  <button class="nav-btn hidden" data-role="merchant" data-path="account">
    <div class="icon-container">
      <i class="fas fa-user-shield"></i>
    </div>
    <span>Account</span>
  </button>

  <!-- 🛡️ Admin Tabs -->
  <button class="nav-btn hidden" data-role="admin" data-path="home">
    <div class="icon-container">
      <i class="fas fa-home"></i>
    </div>
    <span>Home</span>
  </button>

  <button class="nav-btn hidden" data-role="admin" data-path="users">
    <div class="icon-container">
      <i class="fas fa-users"></i>
    </div>
    <span>Users</span>
  </button>

  <button class="nav-btn hidden" data-role="admin" data-path="analytics">
    <div class="icon-container">
      <i class="fas fa-chart-line"></i>
    </div>
    <span>Analytics</span>
  </button>

  <button class="nav-btn hidden" data-role="admin" data-path="requests">
    <div class="icon-container">
      <i class="fas fa-envelope"></i>
    </div>
    <span>Requests</span>
  </button>

  <button class="nav-btn hidden" data-role="admin" data-path="account">
    <div class="icon-container">
      <i class="fas fa-user-shield"></i>
    </div>
    <span>Account</span>
  </button>

</nav>